<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="api.macro('kotti:templates/view/master.pt')">

  <article metal:fill-slot="content"
           class="content"
           i18n:domain="kotti_eshop"
           tal:define="client context; shop client.parent; cart_contents shop.get_shopping_cart(id_client=client.id)">

    <h1>${client.nickname} - shopping cart</h1>

    <h2>Cart content</h2>
    <p tal:repeat="record cart_contents">
      <span tal:define="product record[0]; product_quantity record[1]">
        <a href="${api.url(product)}">${product.title}</a> - ${product_quantity}
      </span>
    </p>
  </article>
</html>
